<div class="dashboard-container dashboard-container--admin">
  <button
    class="btn btn--animated btn--dark d-flex align-items-center"
    [routerLink]="['../../subscribed-users']"
  >
    <i class="fas fa-angle-left mx-3"></i> View all customers
  </button>

  <div class="wallet__balance">
    <div class="row g-1">
      <div
        class="col-12 col-md-6 col-xl-3"
        *ngFor="let balance of userBalances"
      ></div>
    </div>

    <div class="horizontal-taps">
      <div class="horizontal-taps__heading">
        ////////////////////////////
        <span
          class="horizontal-taps__heading__item"
          (click)="selectedTap = 'tap1'"
          [ngClass]="{
            'horizontal-taps__heading__item--active': selectedTap == 'tap1'
          }"
          >Hashrate plans</span
        >
        <span
          class="horizontal-taps__heading__item"
          (click)="selectedTap = 'tap2'"
          [ngClass]="{
            'horizontal-taps__heading__item--active': selectedTap == 'tap2'
          }"
          >Mining devices</span
        >/////////////////////////////////////
        <span
          class="horizontal-taps__heading__item"
          (click)="selectedTap = 'tap3'"
          [ngClass]="{
            'horizontal-taps__heading__item--active': selectedTap == 'tap3'
          }"
          >Transactions logs</span
        >
      </div>

      <div class="horizontal-taps__body" *ngIf="selectedTap == 'tap3'">
        <div class="horizontal-taps">
          <div class="horizontal-taps__heading">
            <span
              class="horizontal-taps__heading__item"
              (click)="selectedTap3 = 'tap3-1'"
              [ngClass]="{
                'horizontal-taps__heading__item--active':
                  selectedTap3 == 'tap3-1'
              }"
              >Deposit logs</span
            >
            <!-- <span
              class="horizontal-taps__heading__item"
              (click)="selectedTap3 = 'tap3-2'"
              [ngClass]="{
                'horizontal-taps__heading__item--active':
                  selectedTap3 == 'tap3-2'
              }"
              >Withdraws logs</span
            > -->
          </div>
          <!-- Depsits logs  -->
          <div
            class="horizontal-taps__body pt-5"
            *ngIf="selectedTap3 == 'tap3-1'"
          >
            <div class="table">
              <p-table
                [value]="depositLogs"
                responsiveLayout="stack"
                [paginator]="true"
                [rows]="8"
                [rowsPerPageOptions]="[8, 16, 24]"
                sortField="createdAt"
                [sortOrder]="-1"
              >
                <ng-template pTemplate="caption">
                  Total Logs ({{ depositLogsLength }})
                </ng-template>
                <ng-template pTemplate="header">
                  <tr>
                    <th>
                      Reference ID
                      <p-columnFilter
                        type="text"
                        field="_id"
                        display="menu"
                      ></p-columnFilter>
                    </th>
                    <th>
                      Deposit Source
                      <p-columnFilter
                        type="text"
                        field="depositSource"
                        display="menu"
                      ></p-columnFilter>
                    </th>
                    <th pSortableColumn="createdAt">
                      Time
                      <p-columnFilter
                        type="date"
                        field="createdAt"
                        display="menu"
                      ></p-columnFilter>
                      <p-sortIcon field="createdAt"></p-sortIcon>
                    </th>
                    <th pSortableColumn="amount">
                      Amount
                      <p-columnFilter
                        type="text"
                        field="amount"
                        display="menu"
                      ></p-columnFilter>
                      <p-sortIcon field="amount"></p-sortIcon>
                    </th>
                    <th>Status</th>
                  </tr>
                </ng-template>
                <ng-template pTemplate="body" let-log>
                  <tr>
                    <td>
                      <span class="p-column-title"> Reference ID </span>
                      <span class="table__header">{{ log._id }}</span>
                    </td>
                    <td>
                      <span class="p-column-title"> Deposit Source </span>
                      <span class="table__header">{{ log.depositSource }}</span>
                    </td>
                    <td>
                      <span class="p-column-title">Time</span>
                      <span class="table__header"
                        >{{ log.createdAt | date: "medium" }}
                      </span>
                    </td>
                    <td>
                      <span class="p-column-title">Amount</span>
                      <span class="table__header"
                        >{{ log.amount }} {{ log.currency }}</span
                      >
                    </td>
                    <td>
                      <span class="p-column-title">Status</span>
                      <span
                        class="btn"
                        [ngClass]="{
                          'btn--success': log.transactionStatus == 'SUCCESS',
                          'btn--failed': log.transactionStatus == 'FAILED',
                          'btn--pending': log.transactionStatus == 'PENDING'
                        }"
                        >{{ log.transactionStatus | titlecase }}</span
                      >
                    </td>
                  </tr>
                </ng-template>
              </p-table>
            </div>
          </div>
          <!-- Withdraws logs -->
          <div>
            <div class="table">
              <p-table
                [value]="withdrawLogs"
                responsiveLayout="stack"
                [paginator]="true"
                [rows]="8"
                [rowsPerPageOptions]="[8, 16, 24]"
                sortField="createdAt"
                [sortOrder]="-1"
              >
                <ng-template pTemplate="caption">
                  Total Logs ({{ withdrawLogsLength }})
                </ng-template>
                <ng-template pTemplate="header">
                  <tr>
                    <th>
                      Reference ID
                      <p-columnFilter
                        type="text"
                        field="_id"
                        display="menu"
                      ></p-columnFilter>
                    </th>
                    <th pSortableColumn="createdAt">
                      Time
                      <p-columnFilter
                        type="date"
                        field="createdAt"
                        display="menu"
                      ></p-columnFilter>
                      <p-sortIcon field="createdAt"></p-sortIcon>
                    </th>
                    <th>
                      Address
                      <p-columnFilter
                        type="date"
                        field="address"
                        display="menu"
                      ></p-columnFilter>
                    </th>
                    <th pSortableColumn="amount">
                      Amount
                      <p-columnFilter
                        type="text"
                        field="amount"
                        display="menu"
                      ></p-columnFilter>
                      <p-sortIcon field="amount"></p-sortIcon>
                    </th>
                    <th>Status</th>
                  </tr>
                </ng-template>
                <ng-template pTemplate="body" let-log>
                  <tr>
                    <td>
                      <span class="p-column-title"> Reference ID </span>
                      <span class="table__header">{{ log._id }}</span>
                    </td>
                    <td>
                      <span class="p-column-title">Time</span>
                      <span class="table__header"
                        >{{ log.createdAt | date: "medium" }}
                      </span>
                    </td>
                    <td>
                      <span class="p-column-title">Address</span>
                      <span class="table__header">{{ log.address }}</span>
                    </td>
                    <!-- <td>
                    <span class="p-column-title"> Transaction ID</span>
                    <span
                      class="table__header"
                      style="text-overflow: ellipsis"
                      >{{ log.txn_id }}</span
                    >
                  </td> -->

                    <td>
                      <span class="p-column-title">Amount</span>
                      <span class="table__header"
                        >{{ log.amount }} {{ log.currency }}</span
                      >
                    </td>
                    <td>
                      <span class="p-column-title">Status</span>
                      <span
                        class="btn"
                        [ngClass]="{
                          'btn--success': log.transactionStatus == 'SUCCESS',
                          'btn--failed': log.transactionStatus == 'FAILED',
                          'btn--pending': log.transactionStatus == 'PENDING'
                        }"
                        >{{ log.transactionStatus | titlecase }}</span
                      >
                    </td>
                  </tr>
                </ng-template>
              </p-table>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
